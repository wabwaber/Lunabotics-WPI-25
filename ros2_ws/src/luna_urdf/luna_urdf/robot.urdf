<?xml version="1.0"?>
<robot name="lunabot">

<link name="base_link"></link>
<joint name="base_link_to_base" type="fixed">
<parent link="base_link"/>
<child link="body" />
<origin rpy="0.0 0 0" xyz="0 0.5 0"/>
</joint>

<link name="body">
<visual>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/body.stl"/>
</geometry>
<material name="body_material">
<color rgba="0.61568627450980395466 0.81176470588235294379 0.92941176470588238168 1.0"/>
</material>
</visual>
<collision>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/body.stl"/>
</geometry>
</collision>
<inertial>
<origin xyz="0.00047255856824676841735 0.0223648596978729651 0.13076886029956547031" rpy="0 0 0"/>
<mass value="25.000000000000007105" />
<inertia ixx="0.90389242187733576106" ixy="0.0034717089339218617193"  ixz="-0.0076346994671778805816" iyy="0.40577362837262359596" iyz="-0.068059613649222985843" izz="0.9121615213756760765" />
</inertial>
</link>

<link name="wheelpod">
<visual>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheelpod.stl"/>
</geometry>
<material name="wheelpod_material">
<color rgba="0.61568627450980395466 0.81176470588235294379 0.92941176470588238168 1.0"/>
</material>
</visual>
<collision>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheelpod.stl"/>
</geometry>
</collision>
<inertial>
<origin xyz="0.030048248825093670095 7.9381949586730618736e-19 -0.054580062726334643841" rpy="0 0 0"/>
<mass value="0.5" />
<inertia ixx="0.0013087489021583560353" ixy="0"  ixz="0.00026671164402675704222" iyy="0.0013673630909145266868" iyz="0" izz="0.00042583920876048439019" />
</inertial>
</link>

<link name="wheel">
<visual>
<origin xyz="0 0 -0.05999999999999999778" rpy="-1.570796326794896558 -1.570796326794896558 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheel.stl"/>
</geometry>
<material name="wheel_material">
<color rgba="0.61568627450980395466 0.81176470588235294379 0.92941176470588238168 1.0"/>
</material>
</visual>
<collision>
<origin xyz="0 0 -0.05999999999999999778" rpy="-1.570796326794896558 -1.570796326794896558 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheel.stl"/>
</geometry>
</collision>
<inertial>
<origin xyz="2.2468246752869755867e-19 8.3413972423963372501e-18 -0.02999999999999999889" rpy="0 0 0"/>
<mass value="1" />
<inertia ixx="0.0029000000000000002338" ixy="0"  ixz="0" iyy="0.0028999999999999993665" iyz="0" izz="0.005200000000000001496" />
</inertial>
</link>

<joint name="drive_br" type="revolute">
<origin xyz="0.033500000000000029754 0 -0.13334999999999999631" rpy="1.570796326794896558 -0 1.570796326794896558" />
<parent link="wheelpod" />
<child link="wheel" />
<axis xyz="0 0 1"/>
<limit effort="10" velocity="20" />
<joint_properties friction="0.0"/>
</joint>

<joint name="steer_br" type="revolute">
<origin xyz="-0.26550000000000006928 0.25391250000000009646 0.089399999999999979483" rpy="0 -0 0" />
<parent link="body" />
<child link="wheelpod" />
<axis xyz="0 0 1"/>
<limit effort="10" velocity="20" lower="-1.6580627893946131568" upper="1.6580627893946131568"/>
<joint_properties friction="0.0"/>
</joint>

<link name="wheelpod_2">
<visual>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheelpod.stl"/>
</geometry>
<material name="wheelpod_material">
<color rgba="0.61568627450980395466 0.81176470588235294379 0.92941176470588238168 1.0"/>
</material>
</visual>
<collision>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheelpod.stl"/>
</geometry>
</collision>
<inertial>
<origin xyz="0.030048248825093670095 7.9381949586730618736e-19 -0.054580062726334643841" rpy="0 0 0"/>
<mass value="0.5" />
<inertia ixx="0.0013087489021583560353" ixy="0"  ixz="0.00026671164402675704222" iyy="0.0013673630909145266868" iyz="0" izz="0.00042583920876048439019" />
</inertial>
</link>

<link name="wheel_2">
<visual>
<origin xyz="0 0 -0.05999999999999999778" rpy="-1.570796326794896558 -1.570796326794896558 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheel.stl"/>
</geometry>
<material name="wheel_material">
<color rgba="0.61568627450980395466 0.81176470588235294379 0.92941176470588238168 1.0"/>
</material>
</visual>
<collision>
<origin xyz="0 0 -0.05999999999999999778" rpy="-1.570796326794896558 -1.570796326794896558 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheel.stl"/>
</geometry>
</collision>
<inertial>
<origin xyz="2.2468246752869755867e-19 8.3413972423963372501e-18 -0.02999999999999999889" rpy="0 0 0"/>
<mass value="1" />
<inertia ixx="0.0029000000000000002338" ixy="0"  ixz="0" iyy="0.0028999999999999993665" iyz="0" izz="0.005200000000000001496" />
</inertial>
</link>

<joint name="drive_fr" type="revolute">
<origin xyz="0.033500000000000029754 0 -0.13334999999999999631" rpy="1.570796326794896558 -0 1.570796326794896558" />
<parent link="wheelpod_2" />
<child link="wheel_2" />
<axis xyz="0 0 1"/>
<limit effort="10" velocity="20" />
<joint_properties friction="0.0"/>
</joint>

<joint name="steer_fr" type="revolute">
<origin xyz="-0.26550000000000006928 -0.25391249999999998543 0.089399999999999979483" rpy="0 -0 0" />
<parent link="body" />
<child link="wheelpod_2" />
<axis xyz="0 0 1"/>
<limit effort="10" velocity="20" lower="-1.6580627893946131568" upper="1.6580627893946131568"/>
<joint_properties friction="0.0"/>
</joint>

<link name="wheelpod_3">
<visual>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheelpod.stl"/>
</geometry>
<material name="wheelpod_material">
<color rgba="0.61568627450980395466 0.81176470588235294379 0.92941176470588238168 1.0"/>
</material>
</visual>
<collision>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheelpod.stl"/>
</geometry>
</collision>
<inertial>
<origin xyz="0.030048248825093670095 7.9381949586730618736e-19 -0.054580062726334643841" rpy="0 0 0"/>
<mass value="0.5" />
<inertia ixx="0.0013087489021583560353" ixy="0"  ixz="0.00026671164402675704222" iyy="0.0013673630909145266868" iyz="0" izz="0.00042583920876048439019" />
</inertial>
</link>

<link name="wheel_3">
<visual>
<origin xyz="0 0 0" rpy="1.570796326794896558 1.570796326794896558 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheel.stl"/>
</geometry>
<material name="wheel_material">
<color rgba="0.61568627450980395466 0.81176470588235294379 0.92941176470588238168 1.0"/>
</material>
</visual>
<collision>
<origin xyz="0 0 0" rpy="1.570796326794896558 1.570796326794896558 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheel.stl"/>
</geometry>
</collision>
<inertial>
<origin xyz="2.2468246752869755867e-19 -8.3413972423963372501e-18 -0.02999999999999999889" rpy="0 0 0"/>
<mass value="1" />
<inertia ixx="0.0029000000000000002338" ixy="0"  ixz="0" iyy="0.0028999999999999993665" iyz="0" izz="0.005200000000000001496" />
</inertial>
</link>

<joint name="drive_fl" type="revolute">
<origin xyz="0.033500000000000001998 0 -0.13334999999999999631" rpy="-1.570796326794896558 -0 -1.570796326794896558" />
<parent link="wheelpod_3" />
<child link="wheel_3" />
<axis xyz="0 0 1"/>
<limit effort="10" velocity="20" />
<joint_properties friction="0.0"/>
</joint>

<joint name="steer_fl" type="revolute">
<origin xyz="0.26549999999999995826 -0.25391249999999998543 0.089399999999999979483" rpy="0 -0 3.141592653589793116" />
<parent link="body" />
<child link="wheelpod_3" />
<axis xyz="0 0 1"/>
<limit effort="10" velocity="20" lower="-1.6580627893946131568" upper="1.6580627893946131568"/>
<joint_properties friction="0.0"/>
</joint>

<link name="wheelpod_4">
<visual>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheelpod.stl"/>
</geometry>
<material name="wheelpod_material">
<color rgba="0.61568627450980395466 0.81176470588235294379 0.92941176470588238168 1.0"/>
</material>
</visual>
<collision>
<origin xyz="0 0 0" rpy="0 -0 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheelpod.stl"/>
</geometry>
</collision>
<inertial>
<origin xyz="0.030048248825093670095 7.9381949586730618736e-19 -0.054580062726334643841" rpy="0 0 0"/>
<mass value="0.5" />
<inertia ixx="0.0013087489021583560353" ixy="0"  ixz="0.00026671164402675704222" iyy="0.0013673630909145266868" iyz="0" izz="0.00042583920876048439019" />
</inertial>
</link>

<link name="wheel_4">
<visual>
<origin xyz="0 0 0" rpy="1.570796326794896558 1.570796326794896558 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheel.stl"/>
</geometry>
<material name="wheel_material">
<color rgba="0.61568627450980395466 0.81176470588235294379 0.92941176470588238168 1.0"/>
</material>
</visual>
<collision>
<origin xyz="0 0 0" rpy="1.570796326794896558 1.570796326794896558 0" />
<geometry>
<mesh filename="package://luna_urdf/luna_urdf/wheel.stl"/>
</geometry>
</collision>
<inertial>
<origin xyz="2.2468246752869755867e-19 -8.3413972423963372501e-18 -0.02999999999999999889" rpy="0 0 0"/>
<mass value="1" />
<inertia ixx="0.0029000000000000002338" ixy="0"  ixz="0" iyy="0.0028999999999999993665" iyz="0" izz="0.005200000000000001496" />
</inertial>
</link>

<joint name="drive_bl" type="revolute">
<origin xyz="0.033500000000000001998 0 -0.13334999999999999631" rpy="-1.570796326794896558 -0 -1.570796326794896558" />
<parent link="wheelpod_4" />
<child link="wheel_4" />
<axis xyz="0 0 1"/>
<limit effort="10" velocity="20" />
<joint_properties friction="0.0"/>
</joint>

<joint name="steer_bl" type="revolute">
<origin xyz="0.26549999999999995826 0.25391250000000009646 0.089399999999999979483" rpy="0 -0 3.141592653589793116" />
<parent link="body" />
<child link="wheelpod_4" />
<axis xyz="0 0 1"/>
<limit effort="10" velocity="20" lower="-1.6580627893946131568" upper="1.6580627893946131568"/>
<joint_properties friction="0.0"/>
</joint>

<ros2_control name="GazeboSimSystem" type="system">
    <hardware>
        <!-- <plugin>mock_components/GenericSystem</plugin> -->
        <plugin>gz_ros2_control/GazeboSimSystem</plugin>
    </hardware>

    <joint name="steer_fl">
        <command_interface name="position">
            <param name="min">-95</param>
            <param name="max">95</param>
        </command_interface>
        <state_interface name="velocity" />
        <state_interface name="position" />
        <state_interface name="effort" />
    </joint>
    <joint name="steer_fr">
        <command_interface name="position">
            <param name="min">-95</param>
            <param name="max">95</param>
        </command_interface>
        <state_interface name="velocity" />
        <state_interface name="position" />
        <state_interface name="effort" />
    </joint>
    <joint name="steer_bl">
        <command_interface name="position">
            <param name="min">-95</param>
            <param name="max">95</param>
        </command_interface>
        <state_interface name="velocity" />
        <state_interface name="position" />
        <state_interface name="effort" />
    </joint>
    <joint name="steer_br">
        <command_interface name="position">
            <param name="min">-95</param>
            <param name="max">95</param>
        </command_interface>
        <state_interface name="velocity" />
        <state_interface name="position" />
        <state_interface name="effort" />
    </joint>

    <joint name="drive_fl">
        <command_interface name="velocity">
            <param name="min">-10</param>
            <param name="max">10</param>
        </command_interface>
        <state_interface name="velocity" />
        <state_interface name="position" />
        <state_interface name="effort" />
    </joint>
    <joint name="drive_fr">
        <command_interface name="velocity">
            <param name="min">-10</param>
            <param name="max">10</param>
        </command_interface>
        <state_interface name="velocity" />
        <state_interface name="position" />
        <state_interface name="effort" />
    </joint>
    <joint name="drive_bl">
        <command_interface name="velocity">
            <param name="min">-10</param>
            <param name="max">10</param>
        </command_interface>
        <state_interface name="velocity" />
        <state_interface name="position" />
        <state_interface name="effort" />
    </joint>
    <joint name="drive_br">
        <command_interface name="velocity">
            <param name="min">-10</param>
            <param name="max">10</param>
        </command_interface>
        <state_interface name="velocity" />
        <state_interface name="position" />
        <state_interface name="effort" />
    </joint>
</ros2_control>

<gazebo reference="base_link">
    <material>Gazebo/Black</material>
</gazebo>

<gazebo reference="body">
    <material>Gazebo/Grey</material>
</gazebo>

<gazebo reference="wheelpod">
    <material>Gazebo/Red</material>
</gazebo>

<gazebo reference="wheelpod_2">
    <material>Gazebo/Red</material>
</gazebo>

<gazebo reference="wheelpod_3">
    <material>Gazebo/Red</material>
</gazebo>

<gazebo reference="wheelpod_4">
    <material>Gazebo/Red</material>
</gazebo>

<gazebo reference="wheel">
    <material>Gazebo/Black</material>
    <mu1>0.4</mu1>
    <mu2>0.4</mu2>
</gazebo>

<gazebo reference="wheel_2">
    <material>Gazebo/Black</material>
    <mu1>0.4</mu1>
    <mu2>0.4</mu2>
</gazebo>

<gazebo reference="wheel_3">
    <material>Gazebo/Black</material>
    <mu1>0.4</mu1>
    <mu2>0.4</mu2>
</gazebo>

<gazebo reference="wheel_4">
    <material>Gazebo/Black</material>
    <mu1>0.4</mu1>
    <mu2>0.4</mu2>
</gazebo>

<gazebo reference="drive_fl">
    <provideFeedback>true</provideFeedback>
</gazebo>

<gazebo reference="drive_fr">
    <provideFeedback>true</provideFeedback>
</gazebo>

<gazebo reference="drive_bl">
    <provideFeedback>true</provideFeedback>
</gazebo>

<gazebo reference="drive_br">
    <provideFeedback>true</provideFeedback>
</gazebo>

<gazebo reference="steer_fl">
    <provideFeedback>true</provideFeedback>
</gazebo>

<gazebo reference="steer_fr">
    <provideFeedback>true</provideFeedback>
</gazebo>

<gazebo reference="steer_bl">
    <provideFeedback>true</provideFeedback>
</gazebo>

<gazebo reference="steer_br">
    <provideFeedback>true</provideFeedback>
</gazebo>

<gazebo>
    <plugin name="gz_ros2_control::GazeboSimROS2ControlPlugin" filename="libgz_ros2_control-system">
        <!-- <parameters>$(ros2 pkg prefix luna_urdf)/luna_control/controllers.yaml</parameters> -->
        <!-- <parameters>$(find luna_urdf)/luna_control/controllers.yaml</parameters> -->
        <parameters>/home/lunabot/git/Lunabotics-WPI-25/ros2_ws/src/luna_urdf/luna_control/controllers.yaml</parameters>
        <controller_manager_prefix_node_name>controller_manager</controller_manager_prefix_node_name>
    </plugin>
</gazebo>

</robot>
